{% set td = (translation_domain is defined ? translation_domain : null) %}
{% if td == '' %}{% set td = null %}{% endif %}

{% if results is empty %}
    <div class="px-3 py-2 text-muted small">No results</div>
{% else %}
    {% for item in results %}
        {% set label_text = item.label %}
        {% if td is not same as(false) %}
            {% if td is null %}
                {% set label_text = item.label|trans %}
            {% else %}
                {% set label_text = item.label|trans({}, td) %}
            {% endif %}
        {% endif %}

        <a type="button"
                class="dropdown-item autocomplete-option"
                data-autocomplete-option-value="{{ item.id }}"
                data-autocomplete-option-label="{{ label_text|e('html_attr') }}"
                {% if item.meta is defined %}
                    data-autocomplete-option-meta="{{ item.meta|json_encode|e('html_attr') }}"
                {% endif %}>
            {{ label_text }}
        </a>
    {% endfor %}
{% endif %}
